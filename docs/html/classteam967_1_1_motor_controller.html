<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32-Robot-Controller: team967::MotorController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ESP32-Robot-Controller<span id="projectnumber">&#160;0.2.0</span>
   </div>
   <div id="projectbrief">Project to control an FRC-style robot from an ESP32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>team967</b></li><li class="navelem"><a class="el" href="classteam967_1_1_motor_controller.html">MotorController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classteam967_1_1_motor_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">team967::MotorController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_motor_controller_8h_source.html">MotorController.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f30f0c5eb5f0dfd1436af646cc6b969"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#a6f30f0c5eb5f0dfd1436af646cc6b969">MotorController</a> (int pin, int channel, int frequency=DEFAULT_PWM_FREQ, int resolution=DEFAULT_PWM_RES)</td></tr>
<tr class="memdesc:a6f30f0c5eb5f0dfd1436af646cc6b969"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#a6f30f0c5eb5f0dfd1436af646cc6b969">More...</a><br /></td></tr>
<tr class="separator:a6f30f0c5eb5f0dfd1436af646cc6b969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261448b0c2be60e23a1903c28e981381"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#a261448b0c2be60e23a1903c28e981381">~MotorController</a> ()</td></tr>
<tr class="memdesc:a261448b0c2be60e23a1903c28e981381"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#a261448b0c2be60e23a1903c28e981381">More...</a><br /></td></tr>
<tr class="separator:a261448b0c2be60e23a1903c28e981381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8235d3a10d65ed95ede33d318b96dda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#aa8235d3a10d65ed95ede33d318b96dda">setInverted</a> (bool inverted)</td></tr>
<tr class="memdesc:aa8235d3a10d65ed95ede33d318b96dda"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#aa8235d3a10d65ed95ede33d318b96dda">More...</a><br /></td></tr>
<tr class="separator:aa8235d3a10d65ed95ede33d318b96dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9460094e29fa494aafb4e0a3aceb162f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#a9460094e29fa494aafb4e0a3aceb162f">isInverted</a> (void)</td></tr>
<tr class="memdesc:a9460094e29fa494aafb4e0a3aceb162f"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#a9460094e29fa494aafb4e0a3aceb162f">More...</a><br /></td></tr>
<tr class="separator:a9460094e29fa494aafb4e0a3aceb162f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8120bdc71041a6b2611eb13f7e208dd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#a8120bdc71041a6b2611eb13f7e208dd1">begin</a> (void)</td></tr>
<tr class="memdesc:a8120bdc71041a6b2611eb13f7e208dd1"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#a8120bdc71041a6b2611eb13f7e208dd1">More...</a><br /></td></tr>
<tr class="separator:a8120bdc71041a6b2611eb13f7e208dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bae722085fadfd8b25595e31da57425"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#a7bae722085fadfd8b25595e31da57425">set</a> (int16_t power)</td></tr>
<tr class="memdesc:a7bae722085fadfd8b25595e31da57425"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#a7bae722085fadfd8b25595e31da57425">More...</a><br /></td></tr>
<tr class="separator:a7bae722085fadfd8b25595e31da57425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2d7b557cc73efcd0127d4d97c51e98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#ada2d7b557cc73efcd0127d4d97c51e98">attachEncoder</a> (<a class="el" href="classteam967_1_1_encoder.html">team967::Encoder</a> *encoder)</td></tr>
<tr class="memdesc:ada2d7b557cc73efcd0127d4d97c51e98"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#ada2d7b557cc73efcd0127d4d97c51e98">More...</a><br /></td></tr>
<tr class="separator:ada2d7b557cc73efcd0127d4d97c51e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1874d22fcf2cae5619789ce23080a8c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classteam967_1_1_encoder.html">team967::Encoder</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classteam967_1_1_motor_controller.html#a1874d22fcf2cae5619789ce23080a8c7">getEncoder</a> (void)</td></tr>
<tr class="memdesc:a1874d22fcf2cae5619789ce23080a8c7"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <a href="classteam967_1_1_motor_controller.html#a1874d22fcf2cae5619789ce23080a8c7">More...</a><br /></td></tr>
<tr class="separator:a1874d22fcf2cae5619789ce23080a8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class that provides a way to interact with PWM motor controllers. This class assumes that the controller accepts 1/4 duty cycle as neutral, 1/6 as full reverse, and 1/3 as full forward. This include most CTRE Talons and Victors, as well as REV Sparks. This has been tested with Victor 888's and 884's, but it is assumed that it would work with other controllers as well. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6f30f0c5eb5f0dfd1436af646cc6b969" name="a6f30f0c5eb5f0dfd1436af646cc6b969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f30f0c5eb5f0dfd1436af646cc6b969">&#9670;&nbsp;</a></span>MotorController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">team967::MotorController::MotorController </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frequency</em> = <code>DEFAULT_PWM_FREQ</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>resolution</em> = <code>DEFAULT_PWM_RES</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructor to create a new <a class="el" href="classteam967_1_1_motor_controller.html">MotorController</a> with the specified options.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The pin to use as a signal output for the motor controller </td></tr>
    <tr><td class="paramname">channel</td><td>The PWM channel on the ESP32 to use to generate the waveform, can be 0-15 </td></tr>
    <tr><td class="paramname">frequency</td><td>The frequency (in Hz) to be used for the waveform, default is 167 Hz </td></tr>
    <tr><td class="paramname">resolution</td><td>The resolution (in bits) to use for PWM generation, default is 8, max is 16 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="classteam967_1_1_motor_controller.html">MotorController</a> object </dd></dl>

</div>
</div>
<a id="a261448b0c2be60e23a1903c28e981381" name="a261448b0c2be60e23a1903c28e981381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a261448b0c2be60e23a1903c28e981381">&#9670;&nbsp;</a></span>~MotorController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">team967::MotorController::~MotorController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Destructor for the motor controller object. Detaches the signal pin from the PWM channel so they can both be reused.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ada2d7b557cc73efcd0127d4d97c51e98" name="ada2d7b557cc73efcd0127d4d97c51e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2d7b557cc73efcd0127d4d97c51e98">&#9670;&nbsp;</a></span>attachEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void team967::MotorController::attachEncoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classteam967_1_1_encoder.html">team967::Encoder</a> *&#160;</td>
          <td class="paramname"><em>encoder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Attaches an <a class="el" href="classteam967_1_1_encoder.html">Encoder</a> object to this motor controller for measuring position, speed, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoder</td><td>A pointer to the <a class="el" href="classteam967_1_1_encoder.html">Encoder</a> object to attach </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="a8120bdc71041a6b2611eb13f7e208dd1" name="a8120bdc71041a6b2611eb13f7e208dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8120bdc71041a6b2611eb13f7e208dd1">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void team967::MotorController::begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Begins PWM output using the channel and pin specified in the constructor. PWM duty cycle is set to 1/4 by default.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="a1874d22fcf2cae5619789ce23080a8c7" name="a1874d22fcf2cae5619789ce23080a8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1874d22fcf2cae5619789ce23080a8c7">&#9670;&nbsp;</a></span>getEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classteam967_1_1_encoder.html">team967::Encoder</a> * team967::MotorController::getEncoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns a pointer to the <a class="el" href="classteam967_1_1_encoder.html">Encoder</a> attached to this object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the <a class="el" href="classteam967_1_1_encoder.html">Encoder</a> object attached to this object, or nullptr if does not exist </dd></dl>

</div>
</div>
<a id="a9460094e29fa494aafb4e0a3aceb162f" name="a9460094e29fa494aafb4e0a3aceb162f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9460094e29fa494aafb4e0a3aceb162f">&#9670;&nbsp;</a></span>isInverted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool team967::MotorController::isInverted </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns whether or not this object's output is inverted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if inverted, false otherwise </dd></dl>

</div>
</div>
<a id="a7bae722085fadfd8b25595e31da57425" name="a7bae722085fadfd8b25595e31da57425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bae722085fadfd8b25595e31da57425">&#9670;&nbsp;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void team967::MotorController::set </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>power</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sets the power output of the motor. The values passed to this depend on the resolution values specified earlier. For example, in 8 bit mode the acceptable range for values passed to this function is -128 to 127. For 16 bit mode they are -32768 to 32767.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">power</td><td>The power value to set the output to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="aa8235d3a10d65ed95ede33d318b96dda" name="aa8235d3a10d65ed95ede33d318b96dda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8235d3a10d65ed95ede33d318b96dda">&#9670;&nbsp;</a></span>setInverted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void team967::MotorController::setInverted </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>inverted</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sets the inversion state of this object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inverted</td><td>Whether or not this object's output should be inverted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_motor_controller_8h_source.html">MotorController.h</a></li>
<li>src/MotorController.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
